# Webサイト バージョン管理ガイドライン

本プロジェクトでは、Webサイトのバージョン管理において「セマンティックバージョニング（SemVer）」に「ビルドメタデータ（日付）」を組み合わせた規則を採用する。

## 1. バージョン番号のフォーマット

バージョン番号は以下の形式で採番する。

`[Major].[Minor].[Patch]+[YYYYMMDD]`

* **例:** `1.2.0+20260105`

### 各セグメントの定義

| セグメント | 名称 | 記号 | 更新タイミング（定義） |
| :--- | :--- | :--- | :--- |
| **第1セグメント** | **Major** | X | **後方互換性のない変更**<br>（例：フレームワーク刷新、大規模リニューアル） |
| **第2セグメント** | **Minor** | Y | **後方互換性のある機能・固定ページ追加**<br>（例：作品ページ公開、新機能追加） |
| **第3セグメント** | **Patch** | Z | **後方互換性のあるバグ修正**<br>（例：誤字修正、レイアウト崩れ修正） |
| **メタデータ** | **Date** | 日付 | **リリースの実施日**<br>（形式：西暦4桁+月2桁+日2桁） |

---

## 2. 運用ルール詳細

### 2.1 数字の更新ルール（X.Y.Z）

1. **システム変更を伴うページ追加は「Minor (Y)」とする**
   * 作品紹介ページ、サークル紹介、お問い合わせフォームなど、**デザインや構造の実装（エンジニアリング）が必要な固定ページ**の追加は、機能追加とみなして **Y** を上げる。

2. **定常的な記事コンテンツの追加は「Date (日付)」を更新する**
   * ニュースリリース、お知らせなどの**コンテンツ追加（テキスト編集レベル）**を行う際は、SemVer（X.Y.Z）は変更せず、**ビルドメタデータ（日付）のみを新しい日付に更新する**。
   * これにより、コードベースに変更があったことをリリースとして記録する。

3. **修正と追加が混在する場合は大きい方を優先する**
   * 「バグ修正」と「機能追加」を同時にリリースする場合、より影響度の大きい **Minor (Y)** を更新する。

4. **リセットのルール**
   * Majorが上がれば、Minor/Patchは `0` にリセットする。
   * Minorが上がれば、Patchは `0` にリセットする。

### 2.2 日付の付与ルール（+YYYYMMDD）
* SemVerの仕様に基づき、`+` 以降にリリース当日を記載する。
* 1日に複数回リリースする場合は、日付の後にドットと連番を付与する（例: `+20260105.1`）。
* この日付情報は、いつデプロイされたバージョンかを追跡するために使用する。

---

## 3. ケーススタディ（更新判断リスト）

現在が **`1.0.0+20260101`** の場合：

| 作業内容 | 具体例 | 新バージョン | 理由・備考 |
| :--- | :--- | :--- | :--- |
| **記事追加** | ニュース更新 | **1.0.0+20260105** | コンテンツ更新のため。<br>**日付のみ更新する。** |
| **固定ページ追加** | 作品ページ公開 | **1.1.0+20260110** | サイト構造・コードの変更を伴うため。<br>(Minorアップ+日付更新) |
| **機能追加** | 検索機能の実装 | **1.1.0+20260110** | システム的な機能追加のため。<br>(Minorアップ+日付更新) |
| **軽微な修正** | 誤字脱字、CSS調整 | **1.0.1+20260105** | バグ修正のため。<br>(Patchアップ+日付更新) |
| **混合** | 誤字修正 ＋ 作品ページ公開 | **1.1.0+20260110** | 大きい変更(Minor)を優先する。 |
| **刷新** | デザイン全面リニューアル | **2.0.0+20260401** | 互換性のない変更のため。<br>(Majorアップ+日付更新) |

---

## 4. Gitでの運用

本プロジェクトでは、`main` ブランチを「リリース（本番公開）された状態」として管理する。
機能開発や修正は作業用ブランチで行い、`main` へのマージ完了後に作業用ブランチは削除する。

### 4.1 作業用ブランチのコミット

作業中のコミットメッセージについては、特定のルールを設けない。
開発者が作業しやすい形式で自由に記述してよい。

### 4.2 リリース時のルール（Mainへのマージ）

作業ブランチを `main` にマージし、**バージョン（または日付）を確定させるタイミング**のコミットメッセージは、以下の形式で統一する。

**フォーマット:**
`[リリースメッセージ] [Version]`

**運用例:**

* **機能追加（Minorアップ）**
    `作品ページを公開 v1.1.0+20260110`

* **バグ修正（Patchアップ）**
    `誤字修正 v1.0.1+20260106`

* **記事更新（日付更新）**
    `ニュース記事を追加 v1.0.0+20260105`

